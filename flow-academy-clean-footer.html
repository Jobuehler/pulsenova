<!-- FLOW ACADEMY - CLEAN FOOTER CODE -->

<!-- 1. Core libraries -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/split-type"></script>

<!-- 2. Other dependencies -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.6.11"></script>
<script src="https://cdn.jsdelivr.net/npm/lenis@1.2.3/dist/lenis.min.js"></script>
<script src="https://cdn.unicorn.studio/v1.3.1/unicornStudio.umd.js"></script>

<!-- 3. Your custom scripts -->
<script src="https://slater.app/17222/47680.js"></script>

<!-- 4. Initialize everything -->
<script>
// Configuration
const config = { stagger: 0.04, delay: 0.3 };

// Hero reveal animation (fixes opacity 0 bug)
function initHero() {
  const hero = document.querySelector('[data-hero-section]');
  if (!hero) return;

  gsap.registerPlugin(ScrollTrigger);

  // Text splitting
  if (typeof SplitType !== 'undefined') {
    document.querySelectorAll('[data-split="lines"]').forEach(el => {
      new SplitType(el, { types: 'lines', lineClass: 'single-line' });
      el.querySelectorAll('.single-line').forEach(line => {
        const wrap = document.createElement('div');
        wrap.style.overflow = 'hidden';
        line.parentNode.insertBefore(wrap, line);
        wrap.appendChild(line);
        gsap.set(line, { y: '100%' });
      });
    });
  }

  const lines = hero.querySelectorAll('.single-line');
  const wrapP = hero.querySelector('[data-load-items="wrap-p"]');
  const wrapButtons = hero.querySelector('[data-load-items="wrap-buttons"]');

  const tl = gsap.timeline();
  tl.set(hero, { autoAlpha: 1 })
    .set([wrapP, wrapButtons], { opacity: 0, y: 20 });

  if (lines.length > 0) {
    tl.to(lines, { y: 0, duration: 1.2, stagger: config.stagger, ease: "expo.out" }, config.delay);
  }

  if (wrapP) tl.to(wrapP, { opacity: 1, y: 0, duration: 0.8 }, "-=0.6");
  if (wrapButtons) tl.to(wrapButtons, { opacity: 1, y: 0, duration: 0.8 }, "-=0.6");

  console.log('✅ Hero revealed');
}

// Initialize UnicornStudio
function initUnicorn() {
  if (typeof UnicornStudio !== 'undefined') {
    UnicornStudio.init();
    console.log('✅ UnicornStudio initialized');
  } else {
    console.warn('⚠️ UnicornStudio not loaded');
  }
}

// Initialize Lenis smooth scroll
function initLenis() {
  if (typeof Lenis !== 'undefined' && typeof gsap !== 'undefined') {
    const lenis = new Lenis({
      autoRaf: true,
      smoothWheel: true,
      wheelMultiplier: 1.0
    });

    lenis.on('scroll', ScrollTrigger.update);
    gsap.ticker.add(time => lenis.raf(time * 1000));
    gsap.ticker.lagSmoothing(0);
    window.lenis = lenis;

    console.log('✅ Lenis initialized');
  }
}

// Run everything on load
window.addEventListener('load', function() {
  initHero();
  initUnicorn();
  initLenis();
});
</script>
